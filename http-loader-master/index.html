<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<title>Record Keeper</title>
		<meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=0" name="viewport" />
		<meta content="yes" name="apple-mobile-web-app-capable" />
		<meta content="black" name="apple-mobile-web-app-status-bar-style" />
		<meta content="telephone=no" name="format-detection" />
		<link rel="icon" type="image/png" href="/icons/favico.png" />
		<link rel="stylesheet" href="/css/theme/index.css">
		<link rel="stylesheet" href="/fonts/Roboto/roboto.css">
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
		<script src="/js/vue.min.js"></script>
		<script src="/js/vuex.min.js"></script>
		<script src="/js/vue-router.min.js"></script>
		<script src="/js/httpVueLoader.js"></script>
		<script src="/js/elementui.min.js"></script>
		<script src="/js/element.en.js"></script>
		<script src="/js/axios.min.js"></script>
		<style>
			* {
				font-family: 'Roboto', sans-serif;
			}

			a {
				text-decoration: none;
				color: #009688;
			}

			.text-center {
				text-align: center;
			}

			.right-align {
				text-align: right;
			}

			a,
			i {
				cursor: pointer;
			}
		</style>
	</head>

	<body>
		<div id="vapp">
			<router-view></router-view>
		</div>
		<script>
			Vue.use(Vuex);
			ELEMENT.locale(ELEMENT.lang.en);
			new Vue({
				el: '#vapp',
				store: new Vuex.Store({
					state: {
						list: [],
						currentTable : ''
					},
					mutations: {
						update() {
							axios.get('/api/tables-list.php')
								.then(result => {
									this.state.list = result.data;
								}).catch(error => {
									console.error(error);
								});
						},
						setCurrentTable(state, table) {
							state.currentTable = table;
						}
					}
				}),
				router: new VueRouter({
					mode: 'history',
					routes: [{
						path: '/',
						component: httpVueLoader('/components/Login.vue'),
						alias: '/login'
					}, {
						path: '/register',
						component: httpVueLoader('/components/Register.vue')
					}, {
						path: '/user',
						component: httpVueLoader('/components/User.vue'),
						children: [
							{
								path: 'dashboard',
								alias: '',
								component: httpVueLoader('/components/UserDashboard.vue')
							},
							{
								path: 'form-builder',
								component: httpVueLoader('/components/FormBuilder.vue')
							},
							{
								path: 'form-builder/:tableName',
								component: httpVueLoader('/components/FormBuilder.vue')
							},
							{
								path :'table/:tableName',
								component: httpVueLoader('/components/Search.vue')
							},
							{
								path : 'table/:tableName/add-record',
								component : httpVueLoader('/components/AddRecord.vue')
							}
						]
					}]
				})
			});
		</script>
	</body>


</html>

<!--
TODO :

1. Approvals before entering information
2. Restricted view to public, some people and the rest of the world.
3. php form variables htmlspecialchars(strip_tags)
4. Better session timeout, send authentication and authorization message failed and redirect to login page
5. UI side set cookies and on logout remve cookies also.
6. Search filter, pagination, ordering
7. Table manage permissions (add a role feeder in while global users can submit form but not see others' data)
8. Record adding focus.
9. Record adding go back.
10. UserDashboard addrecord button.
11. table permissions page.
12. Forms handle required fields, on form generator and also while filling forms.
13. Set id in form
14. User change nav bar if user not logged in
15. user show all types of table that user can access
16. Remove + add icon if user is contributor or public or acc. to roles from bother search and dashboard
17. While Modifying form, restrict user to change datatype ie text can only be converted to text and so on.
18. User nav bar table select set separator for otheruser's tables and his own tables.
19. Map feature.
20. Add logo
21. Add other datatypes like rating and file (if possible)
22. prevent from hacking
23. Registration using email id
24. save hashcode of password instead of direct
25. Forget password using email id
26. Make UI mobile friendly
-->
